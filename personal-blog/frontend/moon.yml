$schema: 'https://moonrepo.dev/schemas/project.json'

# Inherit tasks from the `sveltekit` preset
# https://github.com/moonrepo/moon-configs
tags: ['sveltekit']

type: application

project:
  name: personal-blog-frontend
  description: "Terra Incognita, personal blog"

tasks:
  build:
    deps:
      - personal-reusables:build
      - personal-reusables:prepack
  docker:
    command: 'docker buildx build --no-cache -t ghcr.io/incognito124/$projectName:$timestamp -f $projectRoot/Dockerfile .'
    deps:
      - build
    
  docker-push:
    command: 'docker buildx build --push --no-cache -t ghcr.io/incognito124/$projectName:$timestamp -f $projectRoot/Dockerfile .'
    deps:
      - build
    
