# yaml-language-server: $schema=../.moon/cache/schemas/project.json

# Inherit tasks from the `sveltekit` preset
# https://github.com/moonrepo/moon-configs
tags:
  - sveltekit
  - docker

layer: application
project:
  name: brachi
  description: "Brachistochrone visualizer"

dependsOn:
  - brachistochrone-solver

tasks:
  install:
    command: "bun"
    args:
      - "install"
    inputs:
      - "package.json"
      - "bun.lock"

  build:
    command: "bun"
    args:
      - "run"
      - "build"
    deps:
      - "~:install"
      - brachistochrone-solver:build
    outputs:
      - "build/**"
    options:
      merge: replace
